---
import { getCollection } from 'astro:content';
import Announcement from './Announcement.vue';

const announcements = (await getCollection('announcement')).sort((a, b) => b.data.pubDate.getTime() - a.data.pubDate.getTime());

---

<div class="flex flex-col gap-y-3">
    
    {
        announcements.map((announcement: any) => (
            <Announcement 
                slug={ announcement.slug }
                title={ announcement.data.title }
                body={ announcement.body }
                pubDate={ announcement.data.pubDate }
                client:only="vue"
            />
        ))
    }

</div>
